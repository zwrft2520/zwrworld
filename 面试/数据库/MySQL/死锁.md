要排查 MySQL 死锁，您可以按照以下步骤进行：

1.  **查看错误日志 (Error Log)**
    MySQL 错误日志通常会记录死锁信息。您可以在 `my.cnf` 或 `my.ini` 配置文件中找到 `log_error` 参数来确定日志文件的位置。查找包含 "deadlock" 关键字的条目。

2.  **使用 `SHOW ENGINE INNODB STATUS`**
    这是排查 InnoDB 死锁最常用的命令。它会提供详细的 InnoDB 存储引擎状态信息，其中包括最新的死锁日志。
    ```sql
    SHOW ENGINE INNODB STATUS;
    ```
    在输出中，找到 `LATEST DETECTED DEADLOCK` 部分。它会显示死锁涉及的事务、锁类型、等待的资源以及回滚的事务。

3.  **查询 `information_schema` 表**
    *   **`information_schema.INNODB_LOCKS`**: 显示当前所有被持有的锁。
        ```sql
        SELECT * FROM information_schema.INNODB_LOCKS;
        ```
    *   **`information_schema.INNODB_LOCK_WAITS`**: 显示当前所有锁等待。这有助于识别哪些事务正在等待哪些锁。
        ```sql
        SELECT * FROM information_schema.INNODB_LOCK_WAITS;
        ```
    *   **`information_schema.INNODB_TRX`**: 提供当前运行的所有 InnoDB 事务的详细信息，包括事务 ID、状态、锁等待时间等。
        ```sql
        SELECT * FROM information_schema.INNODB_TRX;
        ```
    结合这些表的信息，您可以构建更复杂的查询来关联事务、锁和等待，从而更清晰地看到死锁的发生。

4.  **开启 `innodb_print_all_deadlocks` (谨慎在生产环境使用)**
    如果您想让所有死锁信息都记录到 MySQL 错误日志中，可以设置这个参数。
    ```sql
    SET GLOBAL innodb_print_all_deadlocks = ON;
    ```
    但这可能会导致错误日志文件迅速增大，因此在生产环境应谨慎开启，并在排查完成后关闭。

5.  **分析死锁日志**
    无论是来自 `SHOW ENGINE INNODB STATUS` 还是错误日志，死锁日志都包含以下关键信息：
    *   **TRANSACTION**：参与死锁的每个事务的详细信息，包括事务 ID、SQL 语句、隔离级别。
    *   **LOCK WAIT**：每个事务正在尝试获取的锁以及它正在等待的资源。
    *   **HOLDING LOCK**：每个事务当前持有的锁。
    *   **ROLLBACK**：被回滚以解除死锁的事务。

    通过分析这些信息，您可以确定：
    *   哪些表和行受到了影响。
    *   哪些 SQL 语句导致了死锁。
    *   锁的类型（行锁、表锁、意向锁等）。
    *   事务的执行顺序和它们获取锁的顺序。

6.  **确定死锁原因并解决**
    常见的死锁原因包括：
    *   **事务操作的数据顺序不一致**：多个事务以不同的顺序访问和修改相同的行。
    *   **索引缺失或不当**：导致 InnoDB 使用表锁或扫描大量行，增加了锁冲突的可能性。
    *   **长时间运行的事务**：持有锁时间过长，增加了与其他事务冲突的机会。
    *   **并发更新同一组数据**。

    针对性地解决措施包括：
    *   **规范事务中 SQL 的执行顺序**：确保所有事务都以一致的顺序访问共享资源。
    *   **优化 SQL 语句和索引**：确保 SQL 能够高效地使用索引，减少锁定的范围和时间。
    *   **缩短事务长度**：尽量让事务保持简短，只包含必要的数据库操作。
    *   **降低事务隔离级别** (谨慎考虑)：例如，从 `REPEATABLE READ` 降到 `READ COMMITTED`（但需要理解其对数据一致性的影响）。
    *   **使用悲观锁或乐观锁**：在应用层控制并发。
    *   **加锁机制的调整**：例如，在必要时使用 `SELECT ... FOR UPDATE` 或 `SELECT ... FOR SHARE` 来明确锁定意图。
    *   **避免在事务中进行用户交互**。

通过上述步骤，您可以系统地排查 MySQL 死锁，找到其根本原因并实施有效的解决方案。