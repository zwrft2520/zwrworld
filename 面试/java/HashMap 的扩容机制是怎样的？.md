# HashMap 的扩容机制是怎样的？

## 回答重点

`HashMap` 中的扩容是基于**负载因子（load factor）** 来决定的。默认情况下，`HashMap` 的负载因子为 0.75，这意味着当 `HashMap` 的已存储元素数量超过当前容量的 75% 时，就会触发扩容操作。

例如，初始容量为 16，负载因子为 0.75，则扩容阈值为 `16 × 0.75 = 12`。当存入第 13 个元素时，`HashMap` 就会触发扩容。

当触发扩容时，`HashMap` 的容量会扩大为当前容量的**两倍**。例如，容量从 16 增加到 32，从 32 增加到 64 等。

扩容时，`HashMap` 需要重新计算所有元素的哈希值，并将它们重新分配到新的哈希桶中，这个过程称为**rehashing**。每个元素的存储位置会根据新容量的大小重新计算哈希值，并移动到新的数组中。
